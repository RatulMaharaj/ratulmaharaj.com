---
import type { IElement, MDXInstance, Post } from "@/types";
import { getLocaleTime } from "@/util";
export interface Props extends IElement {
	post: MDXInstance<Post>;
	withDesc?: boolean;
}

const { post, as: Element = "div", withDesc = false } = Astro.props as Props;
const { publishDate } = post.frontmatter;
const date = new Date(publishDate);
const datetime = date.toISOString();
const postDate = getLocaleTime(date, { month: "short" });
---

<div class="flex flex-col">
	<div class="flex flex-row">
		<time datetime={datetime} class="min-w-[120px] text-gray-500 my-auto"
			>{postDate}
		</time>
		<Element>
			<a href={post.url} class="flex items-start justify-start cactus-link">
				{post.frontmatter.title}
			</a>
		</Element>
	</div>
	<div>
		{
			withDesc && (
				<p class="line-clamp-3 mt-3 block italic">
					{post.frontmatter.description}
				</p>
			)
		}
	</div>
</div>
